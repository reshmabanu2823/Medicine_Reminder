{"ast":null,"code":"import React,{useState,useEffect}from'react';import Navbar from'../components/Navbar';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PatientDashboard=()=>{var _dashboardData$medici,_dashboardData$notifi;const[dashboardData,setDashboardData]=useState(null);const[notes,setNotes]=useState('');const[loading,setLoading]=useState(true);useEffect(()=>{fetchDashboardData();fetchNotes();},[]);const fetchDashboardData=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('/api/dashboard',{headers:{Authorization:\"Bearer \".concat(token)}});setDashboardData(response.data);}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};const fetchNotes=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('/api/dashboard/notes',{headers:{Authorization:\"Bearer \".concat(token)}});setNotes(response.data.notes);}catch(error){console.error('Error fetching notes:',error);}};const saveNotes=async()=>{try{const token=localStorage.getItem('token');await axios.post('/api/dashboard/notes',{notes},{headers:{Authorization:\"Bearer \".concat(token)}});alert('Notes saved successfully!');}catch(error){console.error('Error saving notes:',error);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Patient Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-overview\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"medicines-today\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Today's Medicines\"}),dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$medici=dashboardData.medicines)===null||_dashboardData$medici===void 0?void 0:_dashboardData$medici.map(medicine=>/*#__PURE__*/_jsxs(\"div\",{className:\"medicine-item\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[medicine.name,\" - \",medicine.dosage]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Time: \",medicine.time]})]},medicine._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notes-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Personal Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),placeholder:\"Add your personal notes here...\",rows:\"6\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveNotes,className:\"btn btn-primary\",children:\"Save Notes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recent-notifications\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Notifications\"}),dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$notifi=dashboardData.notifications)===null||_dashboardData$notifi===void 0?void 0:_dashboardData$notifi.map(notification=>/*#__PURE__*/_jsxs(\"div\",{className:\"notification-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:notification.title}),/*#__PURE__*/_jsx(\"p\",{children:notification.message})]},notification._id))]})]})]});};export default PatientDashboard;","map":{"version":3,"names":["React","useState","useEffect","Navbar","axios","jsx","_jsx","jsxs","_jsxs","PatientDashboard","_dashboardData$medici","_dashboardData$notifi","dashboardData","setDashboardData","notes","setNotes","loading","setLoading","fetchDashboardData","fetchNotes","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","console","saveNotes","post","alert","children","className","medicines","map","medicine","name","dosage","time","_id","value","onChange","e","target","placeholder","rows","onClick","notifications","notification","title","message"],"sources":["c:/Users/Reshma Banu/medicine_reminder/frontend/src/pages/PatientDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navbar from '../components/Navbar';\nimport axios from 'axios';\n\nconst PatientDashboard = () => {\n  const [dashboardData, setDashboardData] = useState(null);\n  const [notes, setNotes] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchDashboardData();\n    fetchNotes();\n  }, []);\n\n  const fetchDashboardData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/dashboard', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setDashboardData(response.data);\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchNotes = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/dashboard/notes', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setNotes(response.data.notes);\n    } catch (error) {\n      console.error('Error fetching notes:', error);\n    }\n  };\n\n  const saveNotes = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post('/api/dashboard/notes', { notes }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      alert('Notes saved successfully!');\n    } catch (error) {\n      console.error('Error saving notes:', error);\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <Navbar />\n      <div className=\"container\">\n        <h1>Patient Dashboard</h1>\n        \n        <div className=\"patient-overview\">\n          <div className=\"medicines-today\">\n            <h3>Today's Medicines</h3>\n            {dashboardData?.medicines?.map(medicine => (\n              <div key={medicine._id} className=\"medicine-item\">\n                <span>{medicine.name} - {medicine.dosage}</span>\n                <span>Time: {medicine.time}</span>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"notes-section\">\n            <h3>Personal Notes</h3>\n            <textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Add your personal notes here...\"\n              rows=\"6\"\n            />\n            <button onClick={saveNotes} className=\"btn btn-primary\">Save Notes</button>\n          </div>\n        </div>\n\n        <div className=\"recent-notifications\">\n          <h3>Recent Notifications</h3>\n          {dashboardData?.notifications?.map(notification => (\n            <div key={notification._id} className=\"notification-item\">\n              <h4>{notification.title}</h4>\n              <p>{notification.message}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PatientDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}