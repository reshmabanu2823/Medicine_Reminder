{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import Navbar from'../components/Navbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageReminders=()=>{const{medicineId}=useParams();const[reminders,setReminders]=useState([]);const[newReminderTime,setNewReminderTime]=useState('');const[medicine,setMedicine]=useState(null);useEffect(()=>{fetchReminders();fetchMedicine();},[medicineId]);const fetchMedicine=async()=>{try{const response=await axios.get(\"/api/medicines/\".concat(medicineId));setMedicine(response.data);}catch(error){console.error('Error fetching medicine:',error);}};const fetchReminders=async()=>{try{const response=await axios.get('/api/reminders');const medicineReminders=response.data.filter(reminder=>reminder.medicine._id===medicineId);setReminders(medicineReminders);}catch(error){console.error('Error fetching reminders:',error);}};const addReminder=async e=>{e.preventDefault();try{const response=await axios.post('/api/reminders',{medicineId,reminderTime:newReminderTime});setReminders([...reminders,response.data]);setNewReminderTime('');}catch(error){console.error('Error adding reminder:',error);}};const updateReminderStatus=async(reminderId,status)=>{try{const response=await axios.put(\"/api/reminders/\".concat(reminderId,\"/status\"),{status});setReminders(reminders.map(reminder=>reminder._id===reminderId?response.data:reminder));}catch(error){console.error('Error updating reminder status:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Reminders\"}),medicine&&/*#__PURE__*/_jsxs(\"h3\",{children:[\"Medicine: \",medicine.name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addReminder,children:[/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:newReminderTime,onChange:e=>setNewReminderTime(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Reminder\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reminders-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Current Reminders\"}),reminders.map(reminder=>/*#__PURE__*/_jsxs(\"div\",{className:\"reminder-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:reminder.reminderTime}),/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(reminder.status.toLowerCase()),children:reminder.status}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateReminderStatus(reminder._id,'Taken'),disabled:reminder.status==='Taken',children:\"Mark as Taken\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateReminderStatus(reminder._id,'Pending'),disabled:reminder.status==='Pending',children:\"Mark as Pending\"})]})]},reminder._id))]})]})]});};export default ManageReminders;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","Navbar","jsx","_jsx","jsxs","_jsxs","ManageReminders","medicineId","reminders","setReminders","newReminderTime","setNewReminderTime","medicine","setMedicine","fetchReminders","fetchMedicine","response","get","concat","data","error","console","medicineReminders","filter","reminder","_id","addReminder","e","preventDefault","post","reminderTime","updateReminderStatus","reminderId","status","put","map","children","className","name","onSubmit","type","value","onChange","target","required","toLowerCase","onClick","disabled"],"sources":["c:/Users/Reshma Banu/medicine_reminder/frontend/src/pages/ManageReminders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Navbar from '../components/Navbar';\n\nconst ManageReminders = () => {\n  const { medicineId } = useParams();\n  const [reminders, setReminders] = useState([]);\n  const [newReminderTime, setNewReminderTime] = useState('');\n  const [medicine, setMedicine] = useState(null);\n\n  useEffect(() => {\n    fetchReminders();\n    fetchMedicine();\n  }, [medicineId]);\n\n  const fetchMedicine = async () => {\n    try {\n      const response = await axios.get(`/api/medicines/${medicineId}`);\n      setMedicine(response.data);\n    } catch (error) {\n      console.error('Error fetching medicine:', error);\n    }\n  };\n\n  const fetchReminders = async () => {\n    try {\n      const response = await axios.get('/api/reminders');\n      const medicineReminders = response.data.filter(\n        reminder => reminder.medicine._id === medicineId\n      );\n      setReminders(medicineReminders);\n    } catch (error) {\n      console.error('Error fetching reminders:', error);\n    }\n  };\n\n  const addReminder = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/api/reminders', {\n        medicineId,\n        reminderTime: newReminderTime\n      });\n      setReminders([...reminders, response.data]);\n      setNewReminderTime('');\n    } catch (error) {\n      console.error('Error adding reminder:', error);\n    }\n  };\n\n  const updateReminderStatus = async (reminderId, status) => {\n    try {\n      const response = await axios.put(`/api/reminders/${reminderId}/status`, { status });\n      setReminders(reminders.map(reminder => \n        reminder._id === reminderId ? response.data : reminder\n      ));\n    } catch (error) {\n      console.error('Error updating reminder status:', error);\n    }\n  };\n\n  return (\n    <div>\n      <Navbar />\n      <div className=\"container\">\n        <h2>Manage Reminders</h2>\n        {medicine && <h3>Medicine: {medicine.name}</h3>}\n        \n        <form onSubmit={addReminder}>\n          <input\n            type=\"time\"\n            value={newReminderTime}\n            onChange={(e) => setNewReminderTime(e.target.value)}\n            required\n          />\n          <button type=\"submit\">Add Reminder</button>\n        </form>\n\n        <div className=\"reminders-list\">\n          <h3>Current Reminders</h3>\n          {reminders.map(reminder => (\n            <div key={reminder._id} className=\"reminder-item\">\n              <span>{reminder.reminderTime}</span>\n              <span className={`status ${reminder.status.toLowerCase()}`}>\n                {reminder.status}\n              </span>\n              <div>\n                <button \n                  onClick={() => updateReminderStatus(reminder._id, 'Taken')}\n                  disabled={reminder.status === 'Taken'}\n                >\n                  Mark as Taken\n                </button>\n                <button \n                  onClick={() => updateReminderStatus(reminder._id, 'Pending')}\n                  disabled={reminder.status === 'Pending'}\n                >\n                  Mark as Pending\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ManageReminders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}