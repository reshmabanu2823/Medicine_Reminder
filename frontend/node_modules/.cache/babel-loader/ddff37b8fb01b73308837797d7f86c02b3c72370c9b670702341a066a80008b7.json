{"ast":null,"code":"import _objectSpread from\"c:/Users/Reshma Banu/medicine_reminder/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import Navbar from'../components/Navbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Notifications=()=>{const[notifications,setNotifications]=useState([]);useEffect(()=>{fetchNotifications();},[]);const fetchNotifications=async()=>{try{const response=await axios.get('/api/notifications');setNotifications(response.data);}catch(error){console.error('Error fetching notifications:',error);}};const markAsRead=async id=>{try{await axios.put(\"/api/notifications/\".concat(id,\"/read\"));setNotifications(notifications.map(notif=>notif._id===id?_objectSpread(_objectSpread({},notif),{},{isRead:true}):notif));}catch(error){console.error('Error marking notification as read:',error);}};const markAllAsRead=async()=>{try{await axios.put('/api/notifications/read-all');setNotifications(notifications.map(notif=>_objectSpread(_objectSpread({},notif),{},{isRead:true})));}catch(error){console.error('Error marking all notifications as read:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{onClick:markAllAsRead,children:\"Mark All as Read\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"notifications-list\",children:notifications.map(notification=>/*#__PURE__*/_jsxs(\"div\",{className:\"notification \".concat(notification.isRead?'read':'unread'),onClick:()=>!notification.isRead&&markAsRead(notification._id),children:[/*#__PURE__*/_jsx(\"h4\",{children:notification.title}),/*#__PURE__*/_jsx(\"p\",{children:notification.message}),/*#__PURE__*/_jsx(\"small\",{children:new Date(notification.createdAt).toLocaleString()})]},notification._id))})]})]});};export default Notifications;","map":{"version":3,"names":["React","useState","useEffect","axios","Navbar","jsx","_jsx","jsxs","_jsxs","Notifications","notifications","setNotifications","fetchNotifications","response","get","data","error","console","markAsRead","id","put","concat","map","notif","_id","_objectSpread","isRead","markAllAsRead","children","className","onClick","notification","title","message","Date","createdAt","toLocaleString"],"sources":["c:/Users/Reshma Banu/medicine_reminder/frontend/src/pages/Notifications.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Navbar from '../components/Navbar';\n\nconst Notifications = () => {\n  const [notifications, setNotifications] = useState([]);\n\n  useEffect(() => {\n    fetchNotifications();\n  }, []);\n\n  const fetchNotifications = async () => {\n    try {\n      const response = await axios.get('/api/notifications');\n      setNotifications(response.data);\n    } catch (error) {\n      console.error('Error fetching notifications:', error);\n    }\n  };\n\n  const markAsRead = async (id) => {\n    try {\n      await axios.put(`/api/notifications/${id}/read`);\n      setNotifications(notifications.map(notif => \n        notif._id === id ? {...notif, isRead: true} : notif\n      ));\n    } catch (error) {\n      console.error('Error marking notification as read:', error);\n    }\n  };\n\n  const markAllAsRead = async () => {\n    try {\n      await axios.put('/api/notifications/read-all');\n      setNotifications(notifications.map(notif => ({...notif, isRead: true})));\n    } catch (error) {\n      console.error('Error marking all notifications as read:', error);\n    }\n  };\n\n  return (\n    <div>\n      <Navbar />\n      <div className=\"container\">\n        <div className=\"header\">\n          <h2>Notifications</h2>\n          <button onClick={markAllAsRead}>Mark All as Read</button>\n        </div>\n        <div className=\"notifications-list\">\n          {notifications.map(notification => (\n            <div \n              key={notification._id} \n              className={`notification ${notification.isRead ? 'read' : 'unread'}`}\n              onClick={() => !notification.isRead && markAsRead(notification._id)}\n            >\n              <h4>{notification.title}</h4>\n              <p>{notification.message}</p>\n              <small>{new Date(notification.createdAt).toLocaleString()}</small>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Notifications;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}