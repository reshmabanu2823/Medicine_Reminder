{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../context/AuthContext';import axios from'axios';import Navbar from'../components/Navbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{user}=useAuth();const[notes,setNotes]=useState('');const[loading,setLoading]=useState(false);useEffect(()=>{fetchNotes();},[]);const fetchNotes=async()=>{try{const response=await axios.get('/api/dashboard/notes');setNotes(response.data.notes||'');}catch(error){console.error('Error fetching notes:',error);}};const saveNotes=async()=>{setLoading(true);try{await axios.post('/api/dashboard/notes',{notes});alert('Notes saved successfully!');}catch(error){console.error('Error saving notes:',error);alert('Error saving notes');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),\" \",user===null||user===void 0?void 0:user.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user===null||user===void 0?void 0:user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User Type:\"}),\" \",user===null||user===void 0?void 0:user.userType]}),(user===null||user===void 0?void 0:user.firstName)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",user.firstName,\" \",user.lastName]}),(user===null||user===void 0?void 0:user.age)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age:\"}),\" \",user.age]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notes-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Patient Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),placeholder:\"Add your notes here...\",rows:\"10\",cols:\"50\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:saveNotes,disabled:loading,children:loading?'Saving...':'Save Notes'})]})]})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useAuth","axios","Navbar","jsx","_jsx","jsxs","_jsxs","Profile","user","notes","setNotes","loading","setLoading","fetchNotes","response","get","data","error","console","saveNotes","post","alert","children","className","username","email","userType","firstName","lastName","age","value","onChange","e","target","placeholder","rows","cols","onClick","disabled"],"sources":["c:/Users/Reshma Banu/medicine_reminder/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport axios from 'axios';\nimport Navbar from '../components/Navbar';\n\nconst Profile = () => {\n  const { user } = useAuth();\n  const [notes, setNotes] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchNotes();\n  }, []);\n\n  const fetchNotes = async () => {\n    try {\n      const response = await axios.get('/api/dashboard/notes');\n      setNotes(response.data.notes || '');\n    } catch (error) {\n      console.error('Error fetching notes:', error);\n    }\n  };\n\n  const saveNotes = async () => {\n    setLoading(true);\n    try {\n      await axios.post('/api/dashboard/notes', { notes });\n      alert('Notes saved successfully!');\n    } catch (error) {\n      console.error('Error saving notes:', error);\n      alert('Error saving notes');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <Navbar />\n      <div className=\"container\">\n        <h2>Profile</h2>\n        <div className=\"profile-info\">\n          <p><strong>Username:</strong> {user?.username}</p>\n          <p><strong>Email:</strong> {user?.email}</p>\n          <p><strong>User Type:</strong> {user?.userType}</p>\n          {user?.firstName && <p><strong>Name:</strong> {user.firstName} {user.lastName}</p>}\n          {user?.age && <p><strong>Age:</strong> {user.age}</p>}\n        </div>\n        \n        <div className=\"notes-section\">\n          <h3>Patient Notes</h3>\n          <textarea\n            value={notes}\n            onChange={(e) => setNotes(e.target.value)}\n            placeholder=\"Add your notes here...\"\n            rows=\"10\"\n            cols=\"50\"\n          />\n          <br />\n          <button onClick={saveNotes} disabled={loading}>\n            {loading ? 'Saving...' : 'Save Notes'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}