{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import Navbar from'../components/Navbar';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StockOverview=()=>{const[medicines,setMedicines]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchMedicines();},[]);const fetchMedicines=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('/api/medicines',{headers:{Authorization:\"Bearer \".concat(token)}});setMedicines(response.data);}catch(error){console.error('Error fetching medicines:',error);}finally{setLoading(false);}};const deleteMedicine=async id=>{if(window.confirm('Are you sure you want to delete this medicine?')){try{const token=localStorage.getItem('token');await axios.delete(\"/api/medicines/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});fetchMedicines();}catch(error){console.error('Error deleting medicine:',error);}}};const getStockStatus=count=>{if(count===0)return'out-of-stock';if(count<=5)return'low-stock';return'in-stock';};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Stock Overview\"}),/*#__PURE__*/_jsx(Link,{to:\"/add-medicine\",className:\"btn btn-primary\",children:\"Add Medicine\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"medicines-grid\",children:medicines.map(medicine=>/*#__PURE__*/_jsxs(\"div\",{className:\"medicine-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:medicine.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dosage:\"}),\" \",medicine.dosage]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Frequency:\"}),\" \",medicine.frequency]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",medicine.time]}),/*#__PURE__*/_jsxs(\"p\",{className:\"stock-count \".concat(getStockStatus(medicine.stockCount)),children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Stock:\"}),\" \",medicine.stockCount]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Expires:\"}),\" \",new Date(medicine.expiryDate).toLocaleDateString()]}),medicine.notes&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",medicine.notes]}),/*#__PURE__*/_jsxs(\"div\",{className:\"medicine-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/edit-medicine/\".concat(medicine._id),className:\"btn btn-secondary\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteMedicine(medicine._id),className:\"btn btn-danger\",children:\"Delete\"})]})]},medicine._id))}),medicines.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No medicines added yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/add-medicine\",className:\"btn btn-primary\",children:\"Add Your First Medicine\"})]})]})]});};export default StockOverview;","map":{"version":3,"names":["React","useState","useEffect","Link","Navbar","axios","jsx","_jsx","jsxs","_jsxs","StockOverview","medicines","setMedicines","loading","setLoading","fetchMedicines","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","console","deleteMedicine","id","window","confirm","delete","getStockStatus","count","children","className","to","map","medicine","name","dosage","frequency","time","stockCount","Date","expiryDate","toLocaleDateString","notes","_id","onClick","length"],"sources":["c:/Users/Reshma Banu/medicine_reminder/frontend/src/pages/StockOverview.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Navbar from '../components/Navbar';\nimport axios from 'axios';\n\nconst StockOverview = () => {\n  const [medicines, setMedicines] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchMedicines();\n  }, []);\n\n  const fetchMedicines = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/medicines', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setMedicines(response.data);\n    } catch (error) {\n      console.error('Error fetching medicines:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteMedicine = async (id) => {\n    if (window.confirm('Are you sure you want to delete this medicine?')) {\n      try {\n        const token = localStorage.getItem('token');\n        await axios.delete(`/api/medicines/${id}`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        fetchMedicines();\n      } catch (error) {\n        console.error('Error deleting medicine:', error);\n      }\n    }\n  };\n\n  const getStockStatus = (count) => {\n    if (count === 0) return 'out-of-stock';\n    if (count <= 5) return 'low-stock';\n    return 'in-stock';\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <Navbar />\n      <div className=\"container\">\n        <div className=\"page-header\">\n          <h2>Stock Overview</h2>\n          <Link to=\"/add-medicine\" className=\"btn btn-primary\">Add Medicine</Link>\n        </div>\n\n        <div className=\"medicines-grid\">\n          {medicines.map(medicine => (\n            <div key={medicine._id} className=\"medicine-card\">\n              <h3>{medicine.name}</h3>\n              <p><strong>Dosage:</strong> {medicine.dosage}</p>\n              <p><strong>Frequency:</strong> {medicine.frequency}</p>\n              <p><strong>Time:</strong> {medicine.time}</p>\n              <p className={`stock-count ${getStockStatus(medicine.stockCount)}`}>\n                <strong>Stock:</strong> {medicine.stockCount}\n              </p>\n              <p><strong>Expires:</strong> {new Date(medicine.expiryDate).toLocaleDateString()}</p>\n              {medicine.notes && <p><strong>Notes:</strong> {medicine.notes}</p>}\n              \n              <div className=\"medicine-actions\">\n                <Link to={`/edit-medicine/${medicine._id}`} className=\"btn btn-secondary\">Edit</Link>\n                <button \n                  onClick={() => deleteMedicine(medicine._id)} \n                  className=\"btn btn-danger\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {medicines.length === 0 && (\n          <div className=\"empty-state\">\n            <p>No medicines added yet.</p>\n            <Link to=\"/add-medicine\" className=\"btn btn-primary\">Add Your First Medicine</Link>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StockOverview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}